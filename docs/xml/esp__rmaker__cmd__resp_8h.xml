<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="esp__rmaker__cmd__resp_8h" kind="file" language="C++">
    <compoundname>esp_rmaker_cmd_resp.h</compoundname>
    <includes local="no">stdint.h</includes>
    <includes local="no">esp_err.h</includes>
    <includes local="no">esp_event.h</includes>
    <incdepgraph>
      <node id="54">
        <label>stdint.h</label>
      </node>
      <node id="55">
        <label>esp_err.h</label>
      </node>
      <node id="53">
        <label>/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h</label>
        <link refid="esp_rmaker_cmd_resp.h"/>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="56" relation="include">
        </childnode>
      </node>
      <node id="56">
        <label>esp_event.h</label>
      </node>
    </incdepgraph>
    <innerclass refid="structesp__rmaker__cmd__ctx__t" prot="public">esp_rmaker_cmd_ctx_t</innerclass>
      <sectiondef kind="define">
      <memberdef kind="define" id="esp__rmaker__cmd__resp_8h_1a3c8a73f4c0514b65590ac0e26f1e113b" prot="public" static="no">
        <name>ESP_RMAKER_USER_ROLE_SUPER_ADMIN</name>
        <initializer>(1 &lt;&lt; 0)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" line="19" column="9" bodyfile="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" bodystart="19" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="esp__rmaker__cmd__resp_8h_1a8250920f89142a101621257b0b3502cf" prot="public" static="no">
        <name>ESP_RMAKER_USER_ROLE_PRIMARY_USER</name>
        <initializer>(1 &lt;&lt; 1)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Primary User Flag </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" line="22" column="9" bodyfile="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" bodystart="22" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="esp__rmaker__cmd__resp_8h_1a52959758c6e6cabfbd57e810bacb89ec" prot="public" static="no">
        <name>ESP_RMAKER_USER_ROLE_SECONDARY_USER</name>
        <initializer>(1 &lt;&lt; 2)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Secondary User Flag </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" line="25" column="9" bodyfile="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" bodystart="25" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="esp__rmaker__cmd__resp_8h_1a1dcbc39bc9ec1e2eb38f234aadadc7f5" prot="public" static="no">
        <name>REQ_ID_LEN</name>
        <initializer>32</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" line="60" column="9" bodyfile="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" bodystart="60" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="enum">
      <memberdef kind="enum" id="esp__rmaker__cmd__resp_8h_1ab5bea35b20d897ee2e9f03f79526a903" prot="public" static="no">
        <name>esp_rmaker_tlv_type_t</name>
        <enumvalue id="esp__rmaker__cmd__resp_8h_1ab5bea35b20d897ee2e9f03f79526a903a5b1f0adc97afb1e86cac005003738fd0" prot="public">
          <name>ESP_RMAKER_TLV_TYPE_REQ_ID</name>
          <initializer>= 1</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Request Id : Variable length string, max 32 characters </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="esp__rmaker__cmd__resp_8h_1ab5bea35b20d897ee2e9f03f79526a903af70b7c19d39321fea566022dd16146b1" prot="public">
          <name>ESP_RMAKER_TLV_TYPE_USER_ROLE</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>User Role : 1 byte </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="esp__rmaker__cmd__resp_8h_1ab5bea35b20d897ee2e9f03f79526a903ad3bca68c7a16827ba636e01ab979837d" prot="public">
          <name>ESP_RMAKER_TLV_TYPE_STATUS</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Status : 1 byte </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="esp__rmaker__cmd__resp_8h_1ab5bea35b20d897ee2e9f03f79526a903ac139e737526c7f2ba7837fdd4b5315cb" prot="public">
          <name>ESP_RMAKER_TLV_TYPE_TIMESTAMP</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Timestamp : TBD </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="esp__rmaker__cmd__resp_8h_1ab5bea35b20d897ee2e9f03f79526a903a7573e483b54c6aab16e08a272c788e0a" prot="public">
          <name>ESP_RMAKER_TLV_TYPE_CMD</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Command : 2 bytes </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="esp__rmaker__cmd__resp_8h_1ab5bea35b20d897ee2e9f03f79526a903a05722c4f678c8040c419ec63740515f5" prot="public">
          <name>ESP_RMAKER_TLV_TYPE_DATA</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Data : Variable length </para>          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>RainMaker Command Response TLV8 Types </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" line="29" column="1" bodyfile="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" bodystart="29" bodyend="42"/>
      </memberdef>
      <memberdef kind="enum" id="esp__rmaker__cmd__resp_8h_1a4ca172007f721adfda44bc357b3564f0" prot="public" static="no">
        <name>esp_rmaker_cmd_status_t</name>
        <enumvalue id="esp__rmaker__cmd__resp_8h_1a4ca172007f721adfda44bc357b3564f0a2048636f027dc7fd8f807ff529803dd6" prot="public">
          <name>ESP_RMAKER_CMD_STATUS_SUCCESS</name>
          <initializer>= 0</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Success </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="esp__rmaker__cmd__resp_8h_1a4ca172007f721adfda44bc357b3564f0a8a768d49f42d0cfd38f571e35961063e" prot="public">
          <name>ESP_RMAKER_CMD_STATUS_FAILED</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Generic Failure </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="esp__rmaker__cmd__resp_8h_1a4ca172007f721adfda44bc357b3564f0a1fe22863534f62ed81827033bb9aeb34" prot="public">
          <name>ESP_RMAKER_CMD_STATUS_CMD_INVALID</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Invalid Command </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="esp__rmaker__cmd__resp_8h_1a4ca172007f721adfda44bc357b3564f0a12e75752f41174d66cf1a4eceafbed64" prot="public">
          <name>ESP_RMAKER_CMD_STATUS_AUTH_FAIL</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Authentication Failed </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="esp__rmaker__cmd__resp_8h_1a4ca172007f721adfda44bc357b3564f0ae9782eb3b5b6db01e2da5c05ae27f029" prot="public">
          <name>ESP_RMAKER_CMD_STATUS_NOT_FOUND</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Command not found </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="esp__rmaker__cmd__resp_8h_1a4ca172007f721adfda44bc357b3564f0a1b4fca61ccbf0431f378b9483dc4fd2a" prot="public">
          <name>ESP_RMAKER_CMD_STATUS_MAX</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Last status value </para>          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" line="45" column="1" bodyfile="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" bodystart="45" bodyend="58"/>
      </memberdef>
      <memberdef kind="enum" id="esp__rmaker__cmd__resp_8h_1a4cc2a3267a8ce261f405e445077a088a" prot="public" static="no">
        <name>esp_rmaker_cmd_t</name>
        <enumvalue id="esp__rmaker__cmd__resp_8h_1a4cc2a3267a8ce261f405e445077a088aaa20b2f0467d33c02712f5b3d2da02b4e" prot="public">
          <name>ESP_RMAKER_CMD_TYPE_SET_PARAMS</name>
          <initializer>= 1</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Standard command: Set Parameters </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="esp__rmaker__cmd__resp_8h_1a4cc2a3267a8ce261f405e445077a088aa72f84406ab3885c197c190fcf32e8ead" prot="public">
          <name>ESP_RMAKER_CMD_STANDARD_LAST</name>
          <initializer>= 0xfff</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Last Standard command </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="esp__rmaker__cmd__resp_8h_1a4cc2a3267a8ce261f405e445077a088aac68d06e082196c64be4d7556110aa22e" prot="public">
          <name>ESP_RMAKER_CMD_CUSTOM_START</name>
          <initializer>= 0x1000</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Custom commands can start from here </para>          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" line="70" column="1" bodyfile="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" bodystart="70" bodyend="77"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="typedef">
      <memberdef kind="typedef" id="esp__rmaker__cmd__resp_8h_1ae0e13d130492c0e7650448b645402f5d" prot="public" static="no">
        <type>esp_err_t(*</type>
        <definition>typedef esp_err_t(* esp_rmaker_cmd_handler_t) (const void *in_data, size_t in_len, void **out_data, size_t *out_len, esp_rmaker_cmd_ctx_t *ctx, void *priv)</definition>
        <argsstring>)(const void *in_data, size_t in_len, void **out_data, size_t *out_len, esp_rmaker_cmd_ctx_t *ctx, void *priv)</argsstring>
        <name>esp_rmaker_cmd_handler_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Prototype for Command Handler</para><para>The handler to be invoked when a given command is received.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">in_data</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to input data. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">in_len</parametername>
</parameternamelist>
<parameterdescription>
<para>data len. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">out_data</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to output data which should be set by the handler. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">out_len</parametername>
</parameternamelist>
<parameterdescription>
<para>Length of output generated. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">ctx</parametername>
</parameternamelist>
<parameterdescription>
<para>Command Context. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">priv</parametername>
</parameternamelist>
<parameterdescription>
<para>Private data, if specified while registering command.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>ESP_OK on success. </para></simplesect>
<simplesect kind="return"><para>error on failure. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" line="108" column="1" bodyfile="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" bodystart="108" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="esp__rmaker__cmd__resp_8h_1ae54cb714b5c6a1a7225b0d27f3c6e576" prot="public" static="no">
        <type>esp_err_t(*</type>
        <definition>typedef esp_err_t(* esp_rmaker_cmd_send_t) (const void *data, size_t data_len, void *priv)</definition>
        <argsstring>)(const void *data, size_t data_len, void *priv)</argsstring>
        <name>esp_rmaker_cmd_send_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Prototype for Command sending function (TESTING only)</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">data</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the data to be sent. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
</parameternamelist>
<parameterdescription>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" line="155" column="1" bodyfile="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" bodystart="155" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="esp__rmaker__cmd__resp_8h_1a515c531812d2cc38e1a1167c33f0861b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>esp_err_t</type>
        <definition>esp_err_t esp_rmaker_cmd_response_handler</definition>
        <argsstring>(const void *input, size_t input_len, void **output, size_t *output_len)</argsstring>
        <name>esp_rmaker_cmd_response_handler</name>
        <param>
          <type>const void *</type>
          <declname>input</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>input_len</declname>
        </param>
        <param>
          <type>void **</type>
          <declname>output</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>output_len</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Command Response Handler</para><para>If any command data is received from any of the supported transports (which are outside the scope of this core framework), this function should be called to handle it and fill in the response.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">input</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to input data. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">input_len</parametername>
</parameternamelist>
<parameterdescription>
<para>data len. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">output</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to output data which should be set by the handler. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="out">output_len</parametername>
</parameternamelist>
<parameterdescription>
<para>Length of output generated.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>ESP_OK on success. </para></simplesect>
<simplesect kind="return"><para>error on failure. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" line="92" column="1"/>
      </memberdef>
      <memberdef kind="function" id="esp__rmaker__cmd__resp_8h_1a7c182a59e6a4a739b9a8fba1e6bbb05e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>esp_err_t</type>
        <definition>esp_err_t esp_rmaker_cmd_register</definition>
        <argsstring>(uint16_t cmd, uint8_t access, esp_rmaker_cmd_handler_t handler, bool free_on_return, void *priv)</argsstring>
        <name>esp_rmaker_cmd_register</name>
        <param>
          <type>uint16_t</type>
          <declname>cmd</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>access</declname>
        </param>
        <param>
          <type>esp_rmaker_cmd_handler_t</type>
          <declname>handler</declname>
        </param>
        <param>
          <type>bool</type>
          <declname>free_on_return</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>priv</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Register a new command</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">cmd</parametername>
</parameternamelist>
<parameterdescription>
<para>Command Identifier. Custom commands should start beyond ESP_RMAKER_CMD_STANDARD_LAST </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">access</parametername>
</parameternamelist>
<parameterdescription>
<para>User Access for the command. Can be an OR of the various user role flags like ESP_RMAKER_USER_ROLE_SUPER_ADMIN, ESP_RMAKER_USER_ROLE_PRIMARY_USER and ESP_RMAKER_USER_ROLE_SECONDARY_USER </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">handler</parametername>
</parameternamelist>
<parameterdescription>
<para>The handler to be invoked when the given command is received. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">free_on_return</parametername>
</parameternamelist>
<parameterdescription>
<para>Flag to indicate of the framework should free the output after it has been sent as response. [in] priv Optional private data to be passed to the handler.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>ESP_OK on success. </para></simplesect>
<simplesect kind="return"><para>error on failure. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" line="122" column="1"/>
      </memberdef>
      <memberdef kind="function" id="esp__rmaker__cmd__resp_8h_1a7d5ea7db6271bcf022724fdd8e342a18" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>esp_err_t</type>
        <definition>esp_err_t esp_rmaker_cmd_deregister</definition>
        <argsstring>(uint16_t cmd)</argsstring>
        <name>esp_rmaker_cmd_deregister</name>
        <param>
          <type>uint16_t</type>
          <declname>cmd</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>De-register a command</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">cmd</parametername>
</parameternamelist>
<parameterdescription>
<para>Command Identifier. Custom commands should start beyond ESP_RMAKER_CMD_STANDARD_LAST</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>ESP_OK on success. </para></simplesect>
<simplesect kind="return"><para>error on failure. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" line="131" column="1"/>
      </memberdef>
      <memberdef kind="function" id="esp__rmaker__cmd__resp_8h_1adccd3bddb13d63ab8f2b9cbb5fd2da76" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>esp_err_t</type>
        <definition>esp_err_t esp_rmaker_cmd_prepare_empty_response</definition>
        <argsstring>(void **output, size_t *output_len)</argsstring>
        <name>esp_rmaker_cmd_prepare_empty_response</name>
        <param>
          <type>void **</type>
          <declname>output</declname>
        </param>
        <param>
          <type>size_t *</type>
          <declname>output_len</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" line="144" column="1"/>
      </memberdef>
      <memberdef kind="function" id="esp__rmaker__cmd__resp_8h_1a4b63acd29560ad3fc95643e2500a91d8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>esp_err_t</type>
        <definition>esp_err_t esp_rmaker_cmd_resp_test_send</definition>
        <argsstring>(const char *req_id, uint8_t role, uint16_t cmd, const void *data, size_t data_size, esp_rmaker_cmd_send_t cmd_send, void *priv)</argsstring>
        <name>esp_rmaker_cmd_resp_test_send</name>
        <param>
          <type>const char *</type>
          <declname>req_id</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>role</declname>
        </param>
        <param>
          <type>uint16_t</type>
          <declname>cmd</declname>
        </param>
        <param>
          <type>const void *</type>
          <declname>data</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>data_size</declname>
        </param>
        <param>
          <type>esp_rmaker_cmd_send_t</type>
          <declname>cmd_send</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>priv</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Send Test command (TESTING only)</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">req_id</parametername>
</parameternamelist>
<parameterdescription>
<para>NULL terminated request id of max 32 characters. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">role</parametername>
</parameternamelist>
<parameterdescription>
<para>User Role flag. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">cmd</parametername>
</parameternamelist>
<parameterdescription>
<para>Command Identifier. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">data</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to data for the command. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">data_size</parametername>
</parameternamelist>
<parameterdescription>
<para>Size of the data. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">cmd_send</parametername>
</parameternamelist>
<parameterdescription>
<para>Transport specific function to send the command data. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">priv</parametername>
</parameternamelist>
<parameterdescription>
<para>Private data (if any) to be sent to cmd_send.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>ESP_OK on success. </para></simplesect>
<simplesect kind="return"><para>error on failure. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" line="170" column="1"/>
      </memberdef>
      <memberdef kind="function" id="esp__rmaker__cmd__resp_8h_1a12ea30b7a455174d14479819b251c57e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>esp_err_t</type>
        <definition>esp_err_t esp_rmaker_cmd_resp_parse_response</definition>
        <argsstring>(const void *response, size_t response_len, void *priv)</argsstring>
        <name>esp_rmaker_cmd_resp_parse_response</name>
        <param>
          <type>const void *</type>
          <declname>response</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>response_len</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>priv</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Parse response (TESTING only)</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">response</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the response received </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">response_len</parametername>
</parameternamelist>
<parameterdescription>
<para>Length of the response </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">priv</parametername>
</parameternamelist>
<parameterdescription>
<para>Private data, if any. Can be NULL.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>ESP_OK on success. </para></simplesect>
<simplesect kind="return"><para>error on failure. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h" line="181" column="1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>SPDX-FileCopyrightText:<sp/>2022<sp/>Espressif<sp/>Systems<sp/>(Shanghai)<sp/>CO<sp/>LTD</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>SPDX-License-Identifier:<sp/>Apache-2.0</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>once</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdint.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;esp_err.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;esp_event.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;C&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal">{</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Super<sp/>Admin<sp/>User<sp/>Flag*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ESP_RMAKER_USER_ROLE_SUPER_ADMIN<sp/><sp/><sp/><sp/>(1<sp/>&lt;&lt;<sp/>0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="preprocessor">#define<sp/>ESP_RMAKER_USER_ROLE_PRIMARY_USER<sp/><sp/><sp/>(1<sp/>&lt;&lt;<sp/>1)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="preprocessor">#define<sp/>ESP_RMAKER_USER_ROLE_SECONDARY_USER<sp/>(1<sp/>&lt;&lt;<sp/>2)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/>ESP_RMAKER_TLV_TYPE_REQ_ID<sp/>=<sp/>1,</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/>ESP_RMAKER_TLV_TYPE_USER_ROLE,</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/>ESP_RMAKER_TLV_TYPE_STATUS,</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>ESP_RMAKER_TLV_TYPE_TIMESTAMP,</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/>ESP_RMAKER_TLV_TYPE_CMD,</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/>ESP_RMAKER_TLV_TYPE_DATA</highlight></codeline>
<codeline lineno="42"><highlight class="normal">}<sp/>esp_rmaker_tlv_type_t;</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>RainMaker<sp/>Command<sp/>Response<sp/>Status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>ESP_RMAKER_CMD_STATUS_SUCCESS<sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>ESP_RMAKER_CMD_STATUS_FAILED,</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/>ESP_RMAKER_CMD_STATUS_CMD_INVALID,</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/>ESP_RMAKER_CMD_STATUS_AUTH_FAIL,</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/>ESP_RMAKER_CMD_STATUS_NOT_FOUND,</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>ESP_RMAKER_CMD_STATUS_MAX,</highlight></codeline>
<codeline lineno="58"><highlight class="normal">}<sp/>esp_rmaker_cmd_status_t;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>REQ_ID_LEN<sp/><sp/>32</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61" refid="structesp__rmaker__cmd__ctx__t" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="63" refid="structesp__rmaker__cmd__ctx__t_1a8e41f24b87ff4bb7c45d8533e07c4d39" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/><ref refid="structesp__rmaker__cmd__ctx__t_1a8e41f24b87ff4bb7c45d8533e07c4d39" kindref="member">cmd</ref>;</highlight></codeline>
<codeline lineno="65" refid="structesp__rmaker__cmd__ctx__t_1a703e39b8f8b039e1c114537d0aecce6d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>req_id[REQ_ID_LEN];</highlight></codeline>
<codeline lineno="67" refid="structesp__rmaker__cmd__ctx__t_1a61cf3361ec80bcf7525dcc4ef54c2e0f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/><ref refid="structesp__rmaker__cmd__ctx__t_1a61cf3361ec80bcf7525dcc4ef54c2e0f" kindref="member">user_role</ref>;</highlight></codeline>
<codeline lineno="68"><highlight class="normal">}<sp/><ref refid="structesp__rmaker__cmd__ctx__t" kindref="compound">esp_rmaker_cmd_ctx_t</ref>;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/>ESP_RMAKER_CMD_TYPE_SET_PARAMS<sp/>=<sp/>1,</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/>ESP_RMAKER_CMD_STANDARD_LAST<sp/>=<sp/>0xfff,</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/>ESP_RMAKER_CMD_CUSTOM_START<sp/>=<sp/>0x1000</highlight></codeline>
<codeline lineno="77"><highlight class="normal">}<sp/>esp_rmaker_cmd_t;</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal">esp_err_t<sp/>esp_rmaker_cmd_response_handler(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*input,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>input_len,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>**output,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*output_len);</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>esp_err_t<sp/>(*esp_rmaker_cmd_handler_t)(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*in_data,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>in_len,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>**out_data,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*out_len,<sp/><ref refid="structesp__rmaker__cmd__ctx__t" kindref="compound">esp_rmaker_cmd_ctx_t</ref><sp/>*ctx,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*priv);</highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal">esp_err_t<sp/>esp_rmaker_cmd_register(uint16_t<sp/>cmd,<sp/>uint8_t<sp/>access,<sp/>esp_rmaker_cmd_handler_t<sp/>handler,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>free_on_return,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*priv);</highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal">esp_err_t<sp/>esp_rmaker_cmd_deregister(uint16_t<sp/>cmd);</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Prepare<sp/>an<sp/>empty<sp/>command<sp/>response</highlight></codeline>
<codeline lineno="134"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="135"><highlight class="comment"><sp/>*<sp/>This<sp/>can<sp/>be<sp/>used<sp/>to<sp/>populate<sp/>the<sp/>request<sp/>to<sp/>be<sp/>sent<sp/>to<sp/>get<sp/>all<sp/>pending<sp/>commands</highlight></codeline>
<codeline lineno="136"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="137"><highlight class="comment"><sp/>*<sp/>@param[in]<sp/>out_data<sp/>Pointer<sp/>to<sp/>output<sp/>data.<sp/>This<sp/>function<sp/>will<sp/>allocate<sp/>memory<sp/>and<sp/>set<sp/>this<sp/>pointer</highlight></codeline>
<codeline lineno="138"><highlight class="comment"><sp/>*<sp/>accordingly.</highlight></codeline>
<codeline lineno="139"><highlight class="comment"><sp/>*<sp/>@param[out]<sp/>out_len<sp/>Length<sp/>of<sp/>output<sp/>generated.</highlight></codeline>
<codeline lineno="140"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="141"><highlight class="comment"><sp/>*<sp/>@return<sp/>ESP_OK<sp/>on<sp/>success.</highlight></codeline>
<codeline lineno="142"><highlight class="comment"><sp/>*<sp/>@return<sp/>error<sp/>on<sp/>failure.</highlight></codeline>
<codeline lineno="143"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/>esp_err_t<sp/>esp_rmaker_cmd_prepare_empty_response(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>**output,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>*output_len);</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>esp_err_t<sp/>(*esp_rmaker_cmd_send_t)(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*data,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>data_len,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*priv);</highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal">esp_err_t<sp/>esp_rmaker_cmd_resp_test_send(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*req_id,<sp/>uint8_t<sp/>role,<sp/>uint16_t<sp/>cmd,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*data,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>data_size,<sp/>esp_rmaker_cmd_send_t<sp/>cmd_send,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*priv);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal">esp_err_t<sp/>esp_rmaker_cmd_resp_parse_response(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*response,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>response_len,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*priv);</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal">}</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
    </programlisting>
    <location file="/Users/wangfang/github/esp-rainmaker/components/rmaker_common/include/esp_rmaker_cmd_resp.h"/>
  </compounddef>
</doxygen>
